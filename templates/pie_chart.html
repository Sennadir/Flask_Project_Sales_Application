<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Sales Prediction Tool</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js" type="text/javascript"></script>


  <!-- Bootstrap core CSS -->
  <!-- <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"> -->

  <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">

  <script src='{{ url_for('static', filename='chart/Chart.min.js') }}'></script>

  <!-- Custom fonts for this template -->
  <!-- <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css"> -->

  <link href="{{ url_for('static', filename='vendor/fontawesome-free/css/all.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='vendor/simple-line-icons/css/simple-line-icons.css') }}" rel="stylesheet" type="text/css">

  <!-- Charlist-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
  <script src="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>

  <!-- Bootstraps Java Scipts Links -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>



  <!-- JQuery links  -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- Custom styles for this template -->
  <!-- <link href="css/landing-page.min.css" rel="stylesheet"> -->

  <link rel="stylesheet"
      href="{{ url_for('static', filename='css/landing-page.min.css') }}">

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top justify-content-center">
    <div class="container">
      <a class="navbar-brand" href="/">Sales Prediction Tool</a>
    </div>

    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/">Accueil</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/pie">Predictions</a>
      </li>
    </ul>

  </nav>



  <!-- Masthead -->
  <header class="masthead text-white text-center">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-xl-9 mx-auto">
          <h1 class="mb-5">Essai du modèle de prediction!</h1>
        </div>
      </div>
    </div>
  </header>



  <!-- Image Showcases -->
  <section class="features-icons bg-white text-left">

    <div class="container">
      <div class="row">

            <h3>À propos de notre modèle .. </h3>
            <p class="lead mb-1">
              Vu que nous faisons face à des données avec un aspect temporel, et pour notre problèmatique, deux approches et deux possibilités se présentent :
             </p>


        <div class="col-lg-6">
          <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
            <div class="features-icons-icon d-flex">
              <i class="icon-screen-desktop m-auto text-primary"></i>
            </div>
            <center>
            <h3>Approche par Séries Temporelles</h3>
            </center>
            <p class="lead mb-1">Cette approche nécessite la création d'un modèle pour chaque magain
               (ou pour chaque gamme de magasin) et rendant ainsi la tache plus complexe.</p>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
            <div class="features-icons-icon d-flex">
              <i class="icon-layers m-auto text-primary"></i>
            </div>
            <center>
            <h3>Approche Machine Learning</h3>
            </center>

            <p class="lead mb-6">
              Cette modélisation consiste à considérer l'aspect temporel
               comme étant des features et les combiner avec d'autres features.</p>
          </div>
        </div>

        <p class="lead mb-1">
          Pour aboutir à notre modèle, nous avons choisi de diviser nos données en une partie Train qui sera utilisée pour construire le modèle et une deuxième partie Test
          qui permettera de l'évaluer. Le modèle a résulté en un adjusted R-Squared de 0.92, ce qui est très interessant.
         </p>

      </div>
    </div>
  </section>


  <!-- Icons Grid -->
  <section class="features-icons bg-light text-center">
    <h2>Test et validation du modèle </h2>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <<canvas id="Chart_2" width="300" height="300"></canvas>
          </div>



      </div>
    </div>
  </section>

<section class="features-icons bg-white text-center">

<h2>Test et validation du modèle </h2>
  <div class="container">
    <div class="row">

          <p class="lead mb-1">
            Vous pouvez tester vos propres données. Vous devez pour se faire, choisir un fichier CSV contenant les données
            et à travers notre Pre-processing, nous pourrons les utiliser dans notre modèle.
           </p>

         </div>

         <div class="col-lg-12">
           <form  action="{{ url_for('predict')}}" method="post" enctype="multipart/form-data">
              <input type = "file" name = "file" class="btn btn-primary" />
              <input class="btn btn-light" type = "submit"/>
           </form>
         </div>

       </div>


</section>

  <!-- Footer -->
  <footer class="footer bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
          <ul class="list-inline mb-2">
            <li class="list-inline-item">
              <a href="/">Accueil</a>
            </li>
            <li class="list-inline-item">&sdot;</li>
            <li class="list-inline-item">
              <a href="/pie">Prédictions</a>
            </li>


          </ul>
          <p class="text-muted small mb-4 mb-lg-0">&copy; 2020 - Tous droits réservés. </p>
        </div>

      </div>
    </div>
  </footer>





<script>

      // Global parameters:
      // do not resize the chart canvas when its container does (keep at 600x400px)
      Chart.defaults.global.responsive = true;

      // define the chart data
      var chartData = {
      labels : [{% for item in lab_1 %}
               "{{item}}",
              {% endfor %}],
      datasets : [{
        label: '{{ legend }}',
        fill: true,
        lineTension: 0.1,
        // backgroundColor: "rgba(75,192,192,0.4)",
        // borderColor: "rgba(75,192,192,1)",
        borderCapStyle: 'butt',
        borderDash: [],
        borderDashOffset: 0.0,
        borderJoinStyle: 'miter',
        pointBorderColor: "rgba(75,192,192,1)",
        pointBackgroundColor: "#fff",
        pointBorderWidth: 1,
        pointHoverRadius: 5,
        pointHoverBackgroundColor: "rgba(75,192,192,1)",
        pointHoverBorderColor: "rgba(220,220,220,1)",
        pointHoverBorderWidth: 2,

        pointRadius: 1,
        pointHitRadius: 10,
        data : [{% for item in val_1 %}
                  {{item}},
                {% endfor %}],
        spanGaps: false
      },

      {
        label: '{{ legend_1 }}',
        fill: true,
        lineTension: 0.1,
        backgroundColor: "rgba(75,192,192,0.4)",
        borderColor: "rgba(75,192,192,1)",
        borderCapStyle: 'butt',
        borderDash: [],
        borderDashOffset: 0.0,
        borderJoinStyle: 'miter',
        pointBorderColor: "rgba(75,192,192,1)",
        pointBackgroundColor: "#fff",
        pointBorderWidth: 1,
        pointHoverRadius: 5,
        pointHoverBackgroundColor: "rgba(75,192,192,1)",
        pointHoverBorderColor: "rgba(220,220,220,1)",
        pointHoverBorderWidth: 2,

        pointRadius: 1,
        pointHitRadius: 10,
        data : [{% for item in values %}
                  {{item}},
                {% endfor %}],
        spanGaps: false
      }

    ]
      }


      // get chart canvas
      var ctx = document.getElementById("Chart_2").getContext("2d");

      // create the chart using the chart canvas
      var Chart_2 = new Chart(ctx, {
      type: 'line',
      data: chartData,
      });


</script>


<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script>


</body>


</html>
